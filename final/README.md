### Проектная работа:
### Комплексная реализация слияния геораспределённых сетей предприятий через сеть провайдера.

#### Задание:

  1. Распределить адресное пространство;
  2. Реализовать нескольких видов статической маршрутизации;
  3. Настроить VPN-туннели (статические и динамические);
  4. Настроить протоколы маршрутизации OSPF и EIGRP внутри локальных сетей;
  5. Настроить протокол маршрутизации BGP;
  6. Оптимизировать основные параметры и метрики протоколов IGP;
  7. Оптимизировать работу протокола BGP;
  8. Обеспечить безопасность и мониторинг сетевой инфраструктуры;
  9. Обеспечить шифрование VPN-туннелей;
  10. Настроить инфраструктурные сервисы (DHCP, DNS, NTP и т.п.);
  11. Задокументировать все выполненные действия.



###  1. Задокументируем общее адресное пространство IPv4/IPv6.

#### Автономные системы и принадлежащие им публичные адреса сетей IPv4.

| ASN | Company | Summary IPv4 | Addresses |
|-----|---------|--------------|-----------|
| 64500 | Завод "Левый" | 35.10.0.0/16 | 35.10.0.0 - 35.10.255.255 |
| 64500 | Лаборатория "Поиск" | 35.11.0.0/22 | 35.11.0.0 - 35.11.3.255 |
| 64501 | ДЦ "Правое дело" | 50.50.96.0/21 | 50.50.96.0 - 50.50.103.255 |
| 64501 | Офис "Верхний" | 50.50.104.0/23 | 50.50.104.0 - 50.50.105.255 |
| 64509 | Cloudbuilders CS ISP | 99.99.128.0/22 | 99.99.128.0 - 99.99.131.255 |
| 64510 | Фишка ISP | 99.99.132.0/22 | 99.99.132.0 - 99.99.135.255 |
| 64511 | Гнездо ISP | 99.99.136.0/22 | 99.99.136.0 - 99.99.139.255 |

#### Автономные системы и принадлежащие им публичные адреса сетей IPv6.

| ASN | Company | Summary IPv6 |
|-----|--------------|--------------|
| 64500 | Завод "Левый" | 20FF:CCFF:**200A**::/48 |
| 64500 | Лаборатория "Поиск" | 20FF:CCFF:**200B**::/48 |
| 64501 | ДЦ "Правое дело" | 20FF:CCFF:**200C**::/48 |
| 64501 | Офис "Верхний" | 20FF:CCFF:**200D**::/48 |
| 64509 | Cloudbuilders CS ISP | 20FF:**CCFD**::/32 |
| 64510 | Фишка ISP | 20FF:**CCFE**::/32 |
| 64511 | Гнездо ISP | 20FF:**CCFF**::/32 |

#### Базовая схема.

![](pics/final_base.png)


###  2. Задокументируем используемые подсети IPv4/IPv6.

#### Таблица используемых подсетей IPv4.

| ASN | Summary IPv4 | Network IPv4 | Comment | Office | Equip |
|-------|--------------|--------------|--------------|--------|------------------|
| 64500 | 35.10.0.0/16 | 35.10.0.0/21 | 35.10.0.0/18 | Завод "Левый" | ZL-R1 <> ZL-R2 |
| 64500 | 35.10.0.0/16 | 35.10.8.0/23 | 35.10.0.0/18 | Завод "Левый" | ZL-R1 <> ZL-R3 |
| 64500 | 35.10.0.0/16 | 35.10.10.0/23 | 35.10.0.0/18 | Завод "Левый" | ZL-R2 <> ZL-R4 |
| 64500 | 35.10.0.0/16 | 35.10.12.0/24 | 35.10.0.0/18 | Завод "Левый" | ZL-R3 <> ZL-R4 |
| 64500 | 35.10.0.0/16 | 35.10.64.0/24 | 35.10.0.0/18 | Завод "Левый" | ZL-R5 <> ZL-R6 |
| 64500 | 35.10.0.0/16 | 35.10.65.0/25 | 35.10.0.0/18 | Завод "Левый" | ZL-R3 <> ZL-R5 |
| 64500 | 35.10.0.0/16 | 35.10.65.128/21 | 35.10.0.0/18 | Завод "Левый" | ZL-R3 <> ZL-R6 |
| 64500 | 35.10.0.0/16 | 35.10.128.0/26 | 35.10.128.0/18 | Завод "Левый" | ZL-R2 <> ZL-R7 |
| 64500 | 35.10.0.0/16 | 35.10.192.0/24 | 35.10.192.0/18 | Офис "Левый" | ZL-R7 <> OL-R1 |
| 64500 | 35.10.0.0/16 | 35.10.193.0/24 | 35.10.192.0/18 | Офис "Левый" | ZL-R7 <> OL-R2 |
| 64500 | 35.10.0.0/16 | 35.10.194.0/25 | 35.10.192.0/18 | Офис "Левый" | OL-R1 <> OL-R2 |
| 64500 | 35.11.0.0/22 | 35.11.0.0/24 | | Лаборатория "Поиск" | LP-R1 <> LP-R2 |
| 64500 | 35.11.0.0/22 | 35.11.1.0/24 | | Лаборатория "Поиск" | LP-R1 <> LP-R3 |
| 64500 | 35.11.0.0/22 | 35.11.2.0/24 | | Лаборатория "Поиск" | LP-R2 <> LP-R3 |
| 64501 | 50.50.96.0/21 | 50.50.96.0/23 | | ДЦ "Правое дело" | DP-R1 <> DP-R3 |
| 64501 | 50.50.96.0/21 | 50.50.98.0/23 | | ДЦ "Правое дело" | DP-R1 <> DP-R4 |
| 64501 | 50.50.96.0/21 | 50.50.100.0/24 | | ДЦ "Правое дело" | DP-R1 <> DP-R2 |
| 64501 | 50.50.96.0/21 | 50.50.101.0/24 | | ДЦ "Правое дело" | DP-R2 <> DP-R3 |
| 64501 | 50.50.96.0/21 | 50.50.102.0/24 | | ДЦ "Правое дело" | DP-R2 <> DP-R4 |
| 64501 | 50.50.104.0/23 | 50.50.104.0/24 | | Офис "Верхний" | OV-R2 <> DP-R3 |
| 64501 | 50.50.104.0/23 | 50.50.105.0/25 | | Офис "Верхний" | OV-R1 <> DP-R2 |
| 64501 | 50.50.104.0/23 | 50.50.105.128/25 | | Офис "Верхний" | OV-R1 <> DP-R3 |
| 64509 | 99.99.128.0/22 | 99.99.128.0/23 | | Cloudbuilders CS ISP | PC-R1 <> PF-R2 |
| 64509 | 99.99.128.0/22 | 99.99.130.0/23 | | Cloudbuilders CS ISP | PC-R1 <> PG-R1 |
| 64510 | 99.99.132.0/22 | 99.99.132.0/23 | | Фишка ISP | PF-R1 <> PF-R2 | 
| 64510 | 99.99.132.0/22 | 99.99.134.0/23 | | Фишка ISP | PF-R1 <> PC-R1 | 
| 64511 | 99.99.136.0/22 | 99.99.136.0/23 | | Гнездо ISP | PG-R1 <> PF-R1 |
| 64511 | 99.99.136.0/22 | 99.99.138.0/23 | | Гнездо ISP | PG-R1 <> PF-R2 |

#### Таблица используемых подсетей IPv6.

| ASN | Summary IPv6 | Network IPv6 | Office | Equip |
|-------|------------|--------------|--------|-------|
| 64500 | 20FF:CCFF:200A::/48 | 20FF:CCFF:200A:A1::/64 | Завод "Левый" | ZL-R1 <> ZL-R2 |
| 64500 | 20FF:CCFF:200A::/48 | 20FF:CCFF:200A:A2::/64 | Завод "Левый" | ZL-R1 <> ZL-R3 |
| 64500 | 20FF:CCFF:200A::/48 | 20FF:CCFF:200A:A3::/64 | Завод "Левый" | ZL-R2 <> ZL-R4 |
| 64500 | 20FF:CCFF:200A::/48 | 20FF:CCFF:200A:A4::/64 | Завод "Левый" | ZL-R3 <> ZL-R4 |
| 64500 | 20FF:CCFF:200A::/48 | 20FF:CCFF:200A:B1::/64 | Завод "Левый" | ZL-R5 <> ZL-R6 |
| 64500 | 20FF:CCFF:200A::/48 | 20FF:CCFF:200A:B2::/64 | Завод "Левый" | ZL-R3 <> ZL-R5 |
| 64500 | 20FF:CCFF:200A::/48 | 20FF:CCFF:200A:B3::/64 | Завод "Левый" | ZL-R3 <> ZL-R6 |
| 64500 | 20FF:CCFF:200A::/48 | 20FF:CCFF:200A:C1::/64 | Завод "Левый" | ZL-R2 <> ZL-R7 |
| 64500 | 20FF:CCFF:200A::/48 | 20FF:CCFF:200A:D1::/64 | Офис "Левый" | ZL-R7 <> OL-R1 |
| 64500 | 20FF:CCFF:200A::/48 | 20FF:CCFF:200A:D2::/64 | Офис "Левый" | ZL-R7 <> OL-R2 |
| 64500 | 20FF:CCFF:200A::/48 | 20FF:CCFF:200A:D3::/64 | Офис "Левый" | OL-R1 <> OL-R2 |
| 64500 | 20FF:CCFF:200B::/48 | 20FF:CCFF:200B:A1::/64 | Лаборатория "Поиск" | LP-R1 <> LP-R2 |
| 64500 | 20FF:CCFF:200B::/48 | 20FF:CCFF:200B:A2::/64 | Лаборатория "Поиск" | LP-R1 <> LP-R3 |
| 64500 | 20FF:CCFF:200B::/48 | 20FF:CCFF:200B:A3::/64 | Лаборатория "Поиск" | LP-R2 <> LP-R3 |
| 64501 | 20FF:CCFF:200C::/48 | 20FF:CCFF:200C:A1::/64 | ДЦ "Правое дело" | DP-R1 <> DP-R3 |
| 64501 | 20FF:CCFF:200C::/48 | 20FF:CCFF:200C:A2::/64 | ДЦ "Правое дело" | DP-R1 <> DP-R4 |
| 64501 | 20FF:CCFF:200C::/48 | 20FF:CCFF:200C:A3::/64 | ДЦ "Правое дело" | DP-R1 <> DP-R2 |
| 64501 | 20FF:CCFF:200C::/48 | 20FF:CCFF:200C:A4::/64 | ДЦ "Правое дело" | DP-R2 <> DP-R3 |
| 64501 | 20FF:CCFF:200C::/48 | 20FF:CCFF:200C:A5::/64 | ДЦ "Правое дело" | DP-R2 <> DP-R4 |
| 64501 | 20FF:CCFF:200D::/48 | 20FF:CCFF:200D:A1::/64 | Офис "Верхний" | OV-R2 <> DP-R3 |
| 64501 | 20FF:CCFF:200D::/48 | 20FF:CCFF:200D:A2::/64 | Офис "Верхний" | OV-R1 <> DP-R2 |
| 64501 | 20FF:CCFF:200D::/48 | 20FF:CCFF:200D:A3::/64 | Офис "Верхний" | OV-R1 <> DP-R3 |
| 64509 | 20FF:CCFD::/32 | 20FF:CCFD:FFFF:1::/64 | Cloudbuilders CS ISP | PC-R1 <> PF-R2 |
| 64509 | 20FF:CCFD::/32 | 20FF:CCFD:FFFF:2::/64 | Cloudbuilders CS ISP | PC-R1 <> PG-R1 |
| 64510 | 20FF:CCFE::/32 | 20FF:CCFE:FFFF:1::/64 | Фишка ISP | PF-R1 <> PF-R2 | 
| 64510 | 20FF:CCFE::/32 | 20FF:CCFE:FFFF:2::/64 | Фишка ISP | PF-R1 <> PC-R1 | 
| 64511 | 20FF:CCFF::/32 | 20FF:CCFF:FFFF:1::/64 | Гнездо ISP | PG-R1 <> PF-R1 |
| 64511 | 20FF:CCFF::/32 | 20FF:CCFF:FFFF:2::/64 | Гнездо ISP | PG-R1 <> PF-R2 |

#### Таблица приватных сетей IPv4 и их местоположение и назначение.

| Network IPv4 | Site & Description |
|--------------|--------------------|
| 10.0.0.0/8   | Используем везде для loopback, маршрутизируется только в пределах каждой AS |
| 172.16.132.0/29 | Для подключения завода "Левый" (ZL-R1) к сети Фишка ISP (PF-R1) |
| 172.16.132.8/31 | Для подключения офиса "Верхний" (OV-R1) к сети Фишка ISP (PF-R2) |
| 172.16.128.0/31 | Для подключения ДЦ "Правое дело" (DP-R1) к Cloudbuilders CS ISP (PC-R1) |
| 172.16.136.0/31 | Для подключения лаборатории "Поиск" (LP-R1) к сети Гнездо ISP (PG-R1) |
| 172.31.255.0/24 | Для сети DMVPN. Hub на заводе "Левый" (ZL-R1), Spoke: Лаборатория "Поиск" (LP-R1), Офис "Верхний" (OV-R1) |
| 172.31.254.0/31 | Для GRE-туннеля между заводом "Левый" (ZL-R1) и ДЦ "Правое дело" (DP-R1) |

#### Таблица служебных сетей IPv6 и их местоположение и назначение.

| Network IPv6 | Site & Description |
|--------------|--------------------|
| FD00:CCFF:200A::/8   | Loopback-адреса на заводе "Левый" и в офисе "Верхний" (AS 64500) |
| FD00:CCFF:200B::/8   | Loopback-адреса в лаборатории "Поиск" (AS 64500) |
| FD00:CCFF:200C::/8   | Loopback-адреса в ДЦ "Правое дело" (AS 64501) |
| FD00:CCFF:200D::/8   | Loopback-адреса в офисе "Верхний" (AS 64501) |
| 20FF:CCFE:132:1::/127 | Для подключения завода "Левый" (ZL-R1) к сети Фишка ISP (PF-R1) |
| 20FF:CCFE:132:2::/127 | Для подключения офиса "Верхний" (OV-R1) к сети Фишка ISP (PF-R2) |
| 20FF:CCFD:128:1::/127 | Для подключения ДЦ "Правое дело" (DP-R1) к Cloudbuilders CS ISP (PC-R1) |
| 20FF:CCFF:136:1::/127 | Для подключения лаборатории "Поиск" (LP-R1) к сети Гнездо ISP (PG-R1) |
| FD00:CCFF:3000::/8 | Для сети DMVPN. Hub на заводе "Левый" (ZL-R1), Spoke: Лаборатория "Поиск" (LP-R1), Офис "Верхний" (OV-R1) |
| FD00:CCFF:3001::/127 | Для GRE-туннеля между заводом "Левый" (ZL-R1) и ДЦ "Правое дело" (DP-R1) |

